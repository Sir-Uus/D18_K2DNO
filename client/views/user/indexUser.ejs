<%- include('../navbar/navbar') %>

<div class="container">
  <div class="card mt-3 mb-3">
    <div class="card shadow-mb4">
      <div class="card-header bg-warning text-light"><h4>User</h4></div>
      <div class="card-body">
        <form action="/user/insert" method="post" id="form-investor">
          <div class="row mb-3">
            <div class="col-md-3"></div>
            <div class="col-md-8">
              <input type="hidden" name="id" id="id" class="form-control" />
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-md-3">
              <label for="">Nama</label>
            </div>
            <div class="col-md-8">
              <input type="text" name="nama" id="nama" class="form-control" />
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-md-3">
              <label for="">Username</label>
            </div>
            <div class="col-md-8">
              <input
                type="text "
                name="username"
                id="username"
                class="form-control"
              />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-3">
              <label for="">Password</label>
            </div>
            <div class="col-md-8">
              <input
                type="text "
                name="password"
                id="password"
                class="form-control"
              />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-3">
              <label for="">Kontak</label>
            </div>
            <div class="col-md-8">
              <input
                type="text "
                name="kontak"
                id="kontak"
                class="form-control"
              />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-3">
              <label for="">Role</label>
            </div>
            <div class="col-md-8">
              <select name="role" id="role" class="form-select">
                <option value="">Pilih Role</option>
                <option value="admin">Admin</option>
                <option value="user">User</option>
              </select>
            </div>
          </div>
          <input
            type="submit"
            name="submit"
            id="btn-add"
            class="btn btn-primary"
          />
        </form>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <table class="table table-striped table-hover">
    <thead class="text-center">
      <th>No</th>
      <th>Nama</th>
      <th>Username</th>
      <th>Kontak</th>
      <th>Role</th>
      <th>N/A</th>
    </thead>
    <tbody class="text-center">
      <% users.forEach((user,index) => { %>
      <tr>
        <td><%= index + 1 %></td>
        <td><%= user.nama %></td>
        <td><%= user.username %></td>
        <td><%= user.kontak %></td>
        <td><%= user.role %></td>
        <td>
          <a href="/user/edit/<%= user.id %>" class="btn btn-primary btn-sm"
            >Edit</a
          >
          <form
            action="/user/delete/<%= user.id %>"
            method="post"
            style="display: inline"
          >
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
</div>
